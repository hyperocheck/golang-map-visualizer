var pe=Object.defineProperty;var be=(e,t,n)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>(be(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const g of s.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function W(){}function de(e){return e()}function Q(){return Object.create(null)}function X(e){e.forEach(de)}function _e(e){return typeof e=="function"}function me(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ve(e){return Object.keys(e).length===0}function O(e,t){e.appendChild(t)}function z(e,t,n){e.insertBefore(t,n||null)}function V(e){e.parentNode&&e.parentNode.removeChild(e)}function I(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function K(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function F(e){return document.createTextNode(e)}function Z(){return F("")}function l(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ye(e){return Array.from(e.childNodes)}function q(e,t){t=""+t,e.data!==t&&(e.data=t)}let Y;function M(e){Y=e}function ke(){if(!Y)throw new Error("Function called outside component initialization");return Y}function we(e){ke().$$.on_mount.push(e)}const j=[],x=[];let C=[];const ee=[],$e=Promise.resolve();let D=!1;function Ke(){D||(D=!0,$e.then(ge))}function J(e){C.push(e)}const T=new Set;let P=0;function ge(){if(P!==0)return;const e=Y;do{try{for(;P<j.length;){const t=j[P];P++,M(t),Oe(t.$$)}}catch(t){throw j.length=0,P=0,t}for(M(null),j.length=0,P=0;x.length;)x.pop()();for(let t=0;t<C.length;t+=1){const n=C[t];T.has(n)||(T.add(n),n())}C.length=0}while(j.length);for(;ee.length;)ee.pop()();D=!1,T.clear(),M(e)}function Oe(e){if(e.fragment!==null){e.update(),X(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}function Ee(e){const t=[],n=[];C.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),C=t}const Ae=new Set;function Ne(e,t){e&&e.i&&(Ae.delete(e),e.i(t))}function S(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Se(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),J(()=>{const s=e.$$.on_mount.map(de).filter(_e);e.$$.on_destroy?e.$$.on_destroy.push(...s):X(s),e.$$.on_mount=[]}),r.forEach(J)}function Ve(e,t){const n=e.$$;n.fragment!==null&&(Ee(n.after_update),X(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Le(e,t){e.$$.dirty[0]===-1&&(j.push(e),Ke(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Be(e,t,n,i,r,s,g=null,d=[-1]){const _=Y;M(e);const u=e.$$={fragment:null,ctx:[],props:s,update:W,not_equal:r,bound:Q(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(_?_.$$.context:[])),callbacks:Q(),dirty:d,skip_bound:!1,root:t.target||_.$$.root};g&&g(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(o,b,...h)=>{const m=h.length?h[0]:b;return u.ctx&&r(u.ctx[o],u.ctx[o]=m)&&(!u.skip_bound&&u.bound[o]&&u.bound[o](m),f&&Le(e,o)),b}):[],u.update(),f=!0,X(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){const o=ye(t.target);u.fragment&&u.fragment.l(o),o.forEach(V)}else u.fragment&&u.fragment.c();t.intro&&Ne(e.$$.fragment),Se(e,t.target,t.anchor),ge()}M(_)}class ze{constructor(){G(this,"$$");G(this,"$$set")}$destroy(){Ve(this,1),this.$destroy=W}$on(t,n){if(!_e(n))return W;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!ve(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const He="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(He);function te(e,t,n){const i=e.slice();return i[8]=t[n],i}function ne(e,t,n){const i=e.slice();return i[11]=t[n],i}function le(e,t,n){const i=e.slice();return i[14]=t[n],i[16]=n,i}function ie(e,t,n){const i=e.slice();return i[17]=t[n],i[16]=n,i}function oe(e,t,n){const i=e.slice();return i[19]=t[n],i[16]=n,i}function fe(e){let t,n,i,r,s=e[19]+"",g,d,_;return{c(){t=K("rect"),r=K("text"),g=F(s),l(t,"x",n=e[11].padding+E/8*e[16]),l(t,"y",i=e[11].padding),l(t,"width",E/8),l(t,"height",w),l(t,"fill","#eee"),l(t,"stroke","#000"),l(r,"x",d=e[11].padding+E/8*e[16]+E/16),l(r,"y",_=e[11].padding+w/1.5),l(r,"font-size","12"),l(r,"text-anchor","middle")},m(u,f){z(u,t,f),z(u,r,f),O(r,g)},p(u,f){f&1&&n!==(n=u[11].padding+E/8*u[16])&&l(t,"x",n),f&1&&i!==(i=u[11].padding)&&l(t,"y",i),f&1&&s!==(s=u[19]+"")&&q(g,s),f&1&&d!==(d=u[11].padding+E/8*u[16]+E/16)&&l(r,"x",d),f&1&&_!==(_=u[11].padding+w/1.5)&&l(r,"y",_)},d(u){u&&(V(t),V(r))}}}function re(e){let t,n,i,r,s,g=(e[17]??"")+"",d,_,u;return{c(){t=K("rect"),s=K("text"),d=F(g),l(t,"x",n=e[11].padding),l(t,"y",i=e[11].padding+w+e[16]*p),l(t,"width",E),l(t,"height",p),l(t,"fill",r=e[17]==null?"#dbfdc9":"#b2f2bb"),l(t,"stroke","#12b886"),l(t,"class","cell-key svelte-a5c7e8"),l(s,"x",_=e[11].padding+6),l(s,"y",u=e[11].padding+w+e[16]*p+p/1.5),l(s,"font-size","13")},m(f,o){z(f,t,o),z(f,s,o),O(s,d)},p(f,o){o&1&&n!==(n=f[11].padding)&&l(t,"x",n),o&1&&i!==(i=f[11].padding+w+f[16]*p)&&l(t,"y",i),o&1&&r!==(r=f[17]==null?"#dbfdc9":"#b2f2bb")&&l(t,"fill",r),o&1&&g!==(g=(f[17]??"")+"")&&q(d,g),o&1&&_!==(_=f[11].padding+6)&&l(s,"x",_),o&1&&u!==(u=f[11].padding+w+f[16]*p+p/1.5)&&l(s,"y",u)},d(f){f&&(V(t),V(s))}}}function se(e){let t,n,i,r,s,g=(e[14]??"")+"",d,_,u;return{c(){t=K("rect"),s=K("text"),d=F(g),l(t,"x",n=e[11].padding),l(t,"y",i=e[11].padding+w+e[11].bucket.Keys.length*p+e[16]*p),l(t,"width",E),l(t,"height",p),l(t,"fill",r=e[14]==null?"#fff2b8":"#ffec99"),l(t,"stroke","#ffa94d"),l(t,"class","cell-value svelte-a5c7e8"),l(s,"x",_=e[11].padding+6),l(s,"y",u=e[11].padding+w+e[11].bucket.Keys.length*p+e[16]*p+p/1.5),l(s,"font-size","13")},m(f,o){z(f,t,o),z(f,s,o),O(s,d)},p(f,o){o&1&&n!==(n=f[11].padding)&&l(t,"x",n),o&1&&i!==(i=f[11].padding+w+f[11].bucket.Keys.length*p+f[16]*p)&&l(t,"y",i),o&1&&r!==(r=f[14]==null?"#fff2b8":"#ffec99")&&l(t,"fill",r),o&1&&g!==(g=(f[14]??"")+"")&&q(d,g),o&1&&_!==(_=f[11].padding+6)&&l(s,"x",_),o&1&&u!==(u=f[11].padding+w+f[11].bucket.Keys.length*p+f[16]*p+p/1.5)&&l(s,"y",u)},d(f){f&&(V(t),V(s))}}}function ue(e){let t,n,i,r,s,g,d,_,u,f,o=e[11].bucket.overflow+"",b,h,m,L,A=S(e[11].bucket.tophash),y=[];for(let c=0;c<A.length;c+=1)y[c]=fe(oe(e,A,c));let N=S(e[11].bucket.Keys),v=[];for(let c=0;c<N.length;c+=1)v[c]=re(ie(e,N,c));let B=S(e[11].bucket.Values),$=[];for(let c=0;c<B.length;c+=1)$[c]=se(le(e,B,c));return{c(){t=K("g"),n=K("rect");for(let c=0;c<y.length;c+=1)y[c].c();s=Z();for(let c=0;c<v.length;c+=1)v[c].c();g=Z();for(let c=0;c<$.length;c+=1)$[c].c();d=K("rect"),f=K("text"),b=F(o),l(n,"class","bucket-rect svelte-a5c7e8"),l(n,"x",0),l(n,"y",0),l(n,"width",i=e[11].width),l(n,"height",r=e[11].height),l(n,"fill","#fff"),l(n,"stroke","#000"),l(n,"stroke-width",Ce),l(n,"rx",he),l(n,"ry",he),l(d,"x",_=e[11].padding),l(d,"y",u=e[11].padding+w+e[11].bucket.Keys.length*p+e[11].bucket.Values.length*p),l(d,"width",E),l(d,"height",p),l(d,"fill","#ddd"),l(d,"stroke","#000"),l(f,"x",h=e[11].padding+6),l(f,"y",m=e[11].padding+w+e[11].bucket.Keys.length*p+e[11].bucket.Values.length*p+p/1.5),l(f,"font-size","12"),l(t,"transform",L=`translate(${e[11].x}, ${e[11].y})`),l(t,"class","bucket-group svelte-a5c7e8")},m(c,k){z(c,t,k),O(t,n);for(let a=0;a<y.length;a+=1)y[a]&&y[a].m(t,null);O(t,s);for(let a=0;a<v.length;a+=1)v[a]&&v[a].m(t,null);O(t,g);for(let a=0;a<$.length;a+=1)$[a]&&$[a].m(t,null);O(t,d),O(t,f),O(f,b)},p(c,k){if(k&1&&i!==(i=c[11].width)&&l(n,"width",i),k&1&&r!==(r=c[11].height)&&l(n,"height",r),k&1){A=S(c[11].bucket.tophash);let a;for(a=0;a<A.length;a+=1){const H=oe(c,A,a);y[a]?y[a].p(H,k):(y[a]=fe(H),y[a].c(),y[a].m(t,s))}for(;a<y.length;a+=1)y[a].d(1);y.length=A.length}if(k&1){N=S(c[11].bucket.Keys);let a;for(a=0;a<N.length;a+=1){const H=ie(c,N,a);v[a]?v[a].p(H,k):(v[a]=re(H),v[a].c(),v[a].m(t,g))}for(;a<v.length;a+=1)v[a].d(1);v.length=N.length}if(k&1){B=S(c[11].bucket.Values);let a;for(a=0;a<B.length;a+=1){const H=le(c,B,a);$[a]?$[a].p(H,k):($[a]=se(H),$[a].c(),$[a].m(t,d))}for(;a<$.length;a+=1)$[a].d(1);$.length=B.length}k&1&&_!==(_=c[11].padding)&&l(d,"x",_),k&1&&u!==(u=c[11].padding+w+c[11].bucket.Keys.length*p+c[11].bucket.Values.length*p)&&l(d,"y",u),k&1&&o!==(o=c[11].bucket.overflow+"")&&q(b,o),k&1&&h!==(h=c[11].padding+6)&&l(f,"x",h),k&1&&m!==(m=c[11].padding+w+c[11].bucket.Keys.length*p+c[11].bucket.Values.length*p+p/1.5)&&l(f,"y",m),k&1&&L!==(L=`translate(${c[11].x}, ${c[11].y})`)&&l(t,"transform",L)},d(c){c&&V(t),I(y,c),I(v,c),I($,c)}}}function ce(e){let t,n,i,r,s;return{c(){t=K("line"),l(t,"x1",n=e[8].x),l(t,"y1",i=e[8].y1),l(t,"x2",r=e[8].x),l(t,"y2",s=e[8].y2),l(t,"stroke","#000"),l(t,"stroke-width","2"),l(t,"marker-end","url(#arrow)")},m(g,d){z(g,t,d)},p(g,d){d&2&&n!==(n=g[8].x)&&l(t,"x1",n),d&2&&i!==(i=g[8].y1)&&l(t,"y1",i),d&2&&r!==(r=g[8].x)&&l(t,"x2",r),d&2&&s!==(s=g[8].y2)&&l(t,"y2",s)},d(g){g&&V(t)}}}function Pe(e){let t,n,i,r,s,g,d=S(e[0]),_=[];for(let o=0;o<d.length;o+=1)_[o]=ue(ne(e,d,o));let u=S(e[1]),f=[];for(let o=0;o<u.length;o+=1)f[o]=ce(te(e,u,o));return{c(){t=K("svg"),n=K("defs"),i=K("marker"),r=K("path");for(let o=0;o<_.length;o+=1)_[o].c();s=Z();for(let o=0;o<f.length;o+=1)f[o].c();l(r,"d","M0,0 L6,3 L0,6 Z"),l(r,"fill","#000"),l(i,"id","arrow"),l(i,"markerWidth","6"),l(i,"markerHeight","6"),l(i,"refX","3"),l(i,"refY","3"),l(i,"orient","auto"),l(t,"width","100%"),l(t,"height","100%"),l(t,"viewBox",g=`0 0 ${e[2]} ${e[3]}`),l(t,"class","svelte-a5c7e8")},m(o,b){z(o,t,b),O(t,n),O(n,i),O(i,r);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(t,null);O(t,s);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null)},p(o,[b]){if(b&1){d=S(o[0]);let h;for(h=0;h<d.length;h+=1){const m=ne(o,d,h);_[h]?_[h].p(m,b):(_[h]=ue(m),_[h].c(),_[h].m(t,s))}for(;h<_.length;h+=1)_[h].d(1);_.length=d.length}if(b&2){u=S(o[1]);let h;for(h=0;h<u.length;h+=1){const m=te(o,u,h);f[h]?f[h].p(m,b):(f[h]=ce(m),f[h].c(),f[h].m(t,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=u.length}b&12&&g!==(g=`0 0 ${o[2]} ${o[3]}`)&&l(t,"viewBox",g)},i:W,o:W,d(o){o&&V(t),I(_,o),I(f,o)}}}const E=260,w=24,p=22,ae=60,U=40,je=4,he=12,R=10,Ce=1.5;function Ie(e,t,n){let i=[],r=[],s=[],g=[],d=2e3,_=2e3;async function u(){i=await(await fetch("/vizual")).json(),r=[];let b=[];for(const h of i)h.type==="main"?(b.length&&r.push(b),b=[h]):b.push(h);b.length&&r.push(b),f()}function f(){n(0,s=[]),n(1,g=[]);let o=ae,b=0;for(const h of r){let m=U;for(let L=0;L<h.length;L++){const A=h[L],N=w+A.Keys.length*p+A.Values.length*p+p+R*2,v=E+R*2;if(s.push({id:A.id,x:o,y:m,width:v,height:N,bucket:A,padding:R}),L<h.length-1){const B=m+N+U;g.push({x:o+v/2,y1:m+N,y2:B-je}),m=B}else m+=N+U;m>b&&(b=m)}o+=E+ae+R*2}n(2,d=o+200),n(3,_=b+200)}return we(u),[s,g,d,_]}class Me extends ze{constructor(t){super(),Be(this,t,Ie,Pe,me,{})}}new Me({target:document.getElementById("app")});
