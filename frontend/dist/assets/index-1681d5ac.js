var ze=Object.defineProperty;var Ae=(t,e,n)=>e in t?ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ie=(t,e,n)=>(Ae(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function J(){}function Ce(t){return t()}function re(){return Object.create(null)}function Q(t){t.forEach(Ce)}function Oe(t){return typeof t=="function"}function Xe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ie(t){return Object.keys(t).length===0}function M(t,e){t.appendChild(e)}function N(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Y(t){return document.createElement(t)}function W(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function te(){return T(" ")}function U(){return T("")}function F(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function i(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ye(t){return Array.from(t.childNodes)}function D(t,e){e=""+e,t.data!==e&&(t.data=e)}function ne(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}let ee;function x(t){ee=t}function je(){if(!ee)throw new Error("Function called outside component initialization");return ee}function Te(t){je().$$.on_mount.push(t)}const G=[],ce=[];let Z=[];const he=[],He=Promise.resolve();let fe=!1;function Fe(){fe||(fe=!0,He.then(Re))}function ue(t){Z.push(t)}const se=new Set;let q=0;function Re(){if(q!==0)return;const t=ee;do{try{for(;q<G.length;){const e=G[q];q++,x(e),Ue(e.$$)}}catch(e){throw G.length=0,q=0,e}for(x(null),G.length=0,q=0;ce.length;)ce.pop()();for(let e=0;e<Z.length;e+=1){const n=Z[e];se.has(n)||(se.add(n),n())}Z.length=0}while(G.length);for(;he.length;)he.pop()();fe=!1,se.clear(),x(t)}function Ue(t){if(t.fragment!==null){t.update(),Q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ue)}}function De(t){const e=[],n=[];Z.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Z=e}const qe=new Set;function We(t,e){t&&t.i&&(qe.delete(t),t.i(e))}function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ge(t,e){t.d(1),e.delete(t.key)}function Ze(t,e,n,l,o,c,r,d,u,h,v,a){let m=t.length,P=c.length,L=m;const A={};for(;L--;)A[t[L].key]=L;const R=[],S=new Map,E=new Map,V=[];for(L=P;L--;){const s=a(o,c,L),g=n(s);let f=r.get(g);f?l&&V.push(()=>f.p(s,e)):(f=h(g,s),f.c()),S.set(g,R[L]=f),g in A&&E.set(g,Math.abs(L-A[g]))}const B=new Set,z=new Set;function p(s){We(s,1),s.m(d,v),r.set(s.key,s),v=s.first,P--}for(;m&&P;){const s=R[P-1],g=t[m-1],f=s.key,w=g.key;s===g?(v=s.first,m--,P--):S.has(w)?!r.has(f)||B.has(f)?p(s):z.has(w)?m--:E.get(f)>E.get(w)?(z.add(f),p(s)):(B.add(w),m--):(u(g,r),m--)}for(;m--;){const s=t[m];S.has(s.key)||u(s,r)}for(;P;)p(R[P-1]);return Q(V),R}function Je(t,e,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),ue(()=>{const c=t.$$.on_mount.map(Ce).filter(Oe);t.$$.on_destroy?t.$$.on_destroy.push(...c):Q(c),t.$$.on_mount=[]}),o.forEach(ue)}function Qe(t,e){const n=t.$$;n.fragment!==null&&(De(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(t,e){t.$$.dirty[0]===-1&&(G.push(t),Fe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xe(t,e,n,l,o,c,r=null,d=[-1]){const u=ee;x(t);const h=t.$$={fragment:null,ctx:[],props:c,update:J,not_equal:o,bound:re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:re(),dirty:d,skip_bound:!1,root:e.target||u.$$.root};r&&r(h.root);let v=!1;if(h.ctx=n?n(t,e.props||{},(a,m,...P)=>{const L=P.length?P[0]:m;return h.ctx&&o(h.ctx[a],h.ctx[a]=L)&&(!h.skip_bound&&h.bound[a]&&h.bound[a](L),v&&$e(t,a)),m}):[],h.update(),v=!0,Q(h.before_update),h.fragment=l?l(h.ctx):!1,e.target){if(e.hydrate){const a=Ye(e.target);h.fragment&&h.fragment.l(a),a.forEach(O)}else h.fragment&&h.fragment.c();e.intro&&We(t.$$.fragment),Je(t,e.target,e.anchor),Re()}x(u)}class et{constructor(){ie(this,"$$");ie(this,"$$set")}$destroy(){Qe(this,1),this.$destroy=J}$on(e,n){if(!Oe(n))return J;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Ie(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const tt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tt);function ae(t,e,n){const l=t.slice();return l[21]=e[n][0],l[22]=e[n][1],l}function de(t,e,n){const l=t.slice();return l[25]=e[n],l}function _e(t,e,n){const l=t.slice();return l[28]=e[n],l}function ge(t,e,n){const l=t.slice();return l[22]=e[n],l[32]=n,l}function pe(t,e,n){const l=t.slice();return l[21]=e[n],l[32]=n,l}function me(t,e,n){const l=t.slice();return l[34]=e[n],l[32]=n,l}function we(t){let e,n,l,o,c,r,d,u,h,v,a,m=t[28].bucket.overflow+"",P,L,A,R,S=X(t[28].bucket.tophash),E=[];for(let s=0;s<S.length;s+=1)E[s]=be(me(t,S,s));let V=X(t[28].bucket.Keys),B=[];for(let s=0;s<V.length;s+=1)B[s]=ve(pe(t,V,s));let z=X(t[28].bucket.Values),p=[];for(let s=0;s<z.length;s+=1)p[s]=ye(ge(t,z,s));return{c(){e=W("g"),n=W("rect");for(let s=0;s<E.length;s+=1)E[s].c();c=U();for(let s=0;s<B.length;s+=1)B[s].c();r=U();for(let s=0;s<p.length;s+=1)p[s].c();d=W("rect"),a=W("text"),P=T(m),i(n,"class","bucket-rect svelte-1onboun"),i(n,"width",l=t[28].width),i(n,"height",o=t[28].height),i(n,"fill","#fff"),i(n,"stroke","#000"),i(n,"stroke-width",ot),i(n,"rx",Pe),i(n,"ry",Pe),i(d,"x",u=t[28].padding),i(d,"y",h=t[28].padding+C+t[28].bucket.Keys.length*k+t[28].bucket.Values.length*k),i(d,"width",v=t[28].width-j*2),i(d,"height",k),i(d,"fill","#ddd"),i(d,"stroke","#000"),i(a,"x",L=t[28].padding+6),i(a,"y",A=t[28].padding+C+t[28].bucket.Keys.length*k+t[28].bucket.Values.length*k+k/1.5),i(a,"font-size","12"),i(e,"transform",R=`translate(${t[28].x}, ${t[28].y})`),i(e,"class","bucket-group svelte-1onboun")},m(s,g){N(s,e,g),M(e,n);for(let f=0;f<E.length;f+=1)E[f]&&E[f].m(e,null);M(e,c);for(let f=0;f<B.length;f+=1)B[f]&&B[f].m(e,null);M(e,r);for(let f=0;f<p.length;f+=1)p[f]&&p[f].m(e,null);M(e,d),M(e,a),M(a,P)},p(s,g){if(g[0]&2&&l!==(l=s[28].width)&&i(n,"width",l),g[0]&2&&o!==(o=s[28].height)&&i(n,"height",o),g[0]&2){S=X(s[28].bucket.tophash);let f;for(f=0;f<S.length;f+=1){const w=me(s,S,f);E[f]?E[f].p(w,g):(E[f]=be(w),E[f].c(),E[f].m(e,c))}for(;f<E.length;f+=1)E[f].d(1);E.length=S.length}if(g[0]&2){V=X(s[28].bucket.Keys);let f;for(f=0;f<V.length;f+=1){const w=pe(s,V,f);B[f]?B[f].p(w,g):(B[f]=ve(w),B[f].c(),B[f].m(e,r))}for(;f<B.length;f+=1)B[f].d(1);B.length=V.length}if(g[0]&2){z=X(s[28].bucket.Values);let f;for(f=0;f<z.length;f+=1){const w=ge(s,z,f);p[f]?p[f].p(w,g):(p[f]=ye(w),p[f].c(),p[f].m(e,d))}for(;f<p.length;f+=1)p[f].d(1);p.length=z.length}g[0]&2&&u!==(u=s[28].padding)&&i(d,"x",u),g[0]&2&&h!==(h=s[28].padding+C+s[28].bucket.Keys.length*k+s[28].bucket.Values.length*k)&&i(d,"y",h),g[0]&2&&v!==(v=s[28].width-j*2)&&i(d,"width",v),g[0]&2&&m!==(m=s[28].bucket.overflow+"")&&D(P,m),g[0]&2&&L!==(L=s[28].padding+6)&&i(a,"x",L),g[0]&2&&A!==(A=s[28].padding+C+s[28].bucket.Keys.length*k+s[28].bucket.Values.length*k+k/1.5)&&i(a,"y",A),g[0]&2&&R!==(R=`translate(${s[28].x}, ${s[28].y})`)&&i(e,"transform",R)},d(s){s&&O(e),$(E,s),$(B,s),$(p,s)}}}function be(t){let e,n,l,o,c=t[34]+"",r,d,u;return{c(){e=W("rect"),o=W("text"),r=T(c),i(e,"x",n=t[28].padding+t[32]*H),i(e,"y",l=t[28].padding),i(e,"width",H),i(e,"height",C),i(e,"fill","#eee"),i(e,"stroke","#000"),i(o,"x",d=t[28].padding+t[32]*H+H/2),i(o,"y",u=t[28].padding+C/1.5),i(o,"font-size","12"),i(o,"text-anchor","middle")},m(h,v){N(h,e,v),N(h,o,v),M(o,r)},p(h,v){v[0]&2&&n!==(n=h[28].padding+h[32]*H)&&i(e,"x",n),v[0]&2&&l!==(l=h[28].padding)&&i(e,"y",l),v[0]&2&&c!==(c=h[34]+"")&&D(r,c),v[0]&2&&d!==(d=h[28].padding+h[32]*H+H/2)&&i(o,"x",d),v[0]&2&&u!==(u=h[28].padding+C/1.5)&&i(o,"y",u)},d(h){h&&(O(e),O(o))}}}function ve(t){let e,n,l,o,c,r,d=(t[21]??"")+"",u,h,v;return{c(){e=W("rect"),r=W("text"),u=T(d),i(e,"x",n=t[28].padding),i(e,"y",l=t[28].padding+C+t[32]*k),i(e,"width",o=t[28].width-j*2),i(e,"height",k),i(e,"fill",c=t[21]==null?"#dbfdc9":"#b2f2bb"),i(e,"stroke","#12b886"),i(e,"class","cell-key svelte-1onboun"),i(r,"x",h=t[28].padding+6),i(r,"y",v=t[28].padding+C+t[32]*k+k/1.5),i(r,"font-size","13")},m(a,m){N(a,e,m),N(a,r,m),M(r,u)},p(a,m){m[0]&2&&n!==(n=a[28].padding)&&i(e,"x",n),m[0]&2&&l!==(l=a[28].padding+C+a[32]*k)&&i(e,"y",l),m[0]&2&&o!==(o=a[28].width-j*2)&&i(e,"width",o),m[0]&2&&c!==(c=a[21]==null?"#dbfdc9":"#b2f2bb")&&i(e,"fill",c),m[0]&2&&d!==(d=(a[21]??"")+"")&&D(u,d),m[0]&2&&h!==(h=a[28].padding+6)&&i(r,"x",h),m[0]&2&&v!==(v=a[28].padding+C+a[32]*k+k/1.5)&&i(r,"y",v)},d(a){a&&(O(e),O(r))}}}function ye(t){let e,n,l,o,c,r,d=(t[22]??"")+"",u,h,v;return{c(){e=W("rect"),r=W("text"),u=T(d),i(e,"x",n=t[28].padding),i(e,"y",l=t[28].padding+C+t[28].bucket.Keys.length*k+t[32]*k),i(e,"width",o=t[28].width-j*2),i(e,"height",k),i(e,"fill",c=t[22]==null?"#fff2b8":"#ffec99"),i(e,"stroke","#ffa94d"),i(e,"class","cell-value svelte-1onboun"),i(r,"x",h=t[28].padding+6),i(r,"y",v=t[28].padding+C+t[28].bucket.Keys.length*k+t[32]*k+k/1.5),i(r,"font-size","13")},m(a,m){N(a,e,m),N(a,r,m),M(r,u)},p(a,m){m[0]&2&&n!==(n=a[28].padding)&&i(e,"x",n),m[0]&2&&l!==(l=a[28].padding+C+a[28].bucket.Keys.length*k+a[32]*k)&&i(e,"y",l),m[0]&2&&o!==(o=a[28].width-j*2)&&i(e,"width",o),m[0]&2&&c!==(c=a[22]==null?"#fff2b8":"#ffec99")&&i(e,"fill",c),m[0]&2&&d!==(d=(a[22]??"")+"")&&D(u,d),m[0]&2&&h!==(h=a[28].padding+6)&&i(r,"x",h),m[0]&2&&v!==(v=a[28].padding+C+a[28].bucket.Keys.length*k+a[32]*k+k/1.5)&&i(r,"y",v)},d(a){a&&(O(e),O(r))}}}function ke(t,e){let n,l,o=e[28].x+e[28].width>e[3].x&&e[28].x<e[3].x+e[3].w&&e[28].y+e[28].height>e[3].y&&e[28].y<e[3].y+e[3].h&&we(e);return{key:t,first:null,c(){n=U(),o&&o.c(),l=U(),this.first=n},m(c,r){N(c,n,r),o&&o.m(c,r),N(c,l,r)},p(c,r){e=c,e[28].x+e[28].width>e[3].x&&e[28].x<e[3].x+e[3].w&&e[28].y+e[28].height>e[3].y&&e[28].y<e[3].y+e[3].h?o?o.p(e,r):(o=we(e),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(c){c&&(O(n),O(l)),o&&o.d(c)}}}function Me(t){let e,n,l,o,c;return{c(){e=W("line"),i(e,"x1",n=t[25].x),i(e,"y1",l=t[25].y1),i(e,"x2",o=t[25].x),i(e,"y2",c=t[25].y2),i(e,"stroke","#000"),i(e,"stroke-width","2"),i(e,"marker-end","url(#arrow)")},m(r,d){N(r,e,d)},p(r,d){d[0]&4&&n!==(n=r[25].x)&&i(e,"x1",n),d[0]&4&&l!==(l=r[25].y1)&&i(e,"y1",l),d[0]&4&&o!==(o=r[25].x)&&i(e,"x2",o),d[0]&4&&c!==(c=r[25].y2)&&i(e,"y2",c)},d(r){r&&O(e)}}}function Ee(t){let e,n=t[25].x>t[3].x&&t[25].x<t[3].x+t[3].w&&Me(t);return{c(){n&&n.c(),e=U()},m(l,o){n&&n.m(l,o),N(l,e,o)},p(l,o){l[25].x>l[3].x&&l[25].x<l[3].x+l[3].w?n?n.p(l,o):(n=Me(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&O(e),n&&n.d(l)}}}function Se(t){let e,n,l;return{c(){e=Y("div"),i(e,"class","splitter svelte-1onboun")},m(o,c){N(o,e,c),n||(l=F(e,"mousedown",t[10]),n=!0)},p:J,d(o){o&&O(e),n=!1,l()}}}function Be(t){let e,n=X(Object.entries(t[0])),l=[];for(let o=0;o<n.length;o+=1)l[o]=Le(ae(t,n,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=U()},m(o,c){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(o,c);N(o,e,c)},p(o,c){if(c[0]&1){n=X(Object.entries(o[0]));let r;for(r=0;r<n.length;r+=1){const d=ae(o,n,r);l[r]?l[r].p(d,c):(l[r]=Le(d),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(o){o&&O(e),$(l,o)}}}function Le(t){let e,n,l=t[21]+"",o,c,r=t[22]+"",d;return{c(){e=Y("div"),n=Y("span"),o=T(l),c=Y("b"),d=T(r),i(e,"class","row svelte-1onboun")},m(u,h){N(u,e,h),M(e,n),M(n,o),M(e,c),M(c,d)},p(u,h){h[0]&1&&l!==(l=u[21]+"")&&D(o,l),h[0]&1&&r!==(r=u[22]+"")&&D(d,r)},d(u){u&&O(e)}}}function nt(t){let e,n,l,o=t[5]?"→":"← hmap",c,r,d,u,h,v,a=[],m=new Map,P,L,A,R,S,E,V,B,z,p=X(t[1]);const s=_=>_[28].id;for(let _=0;_<p.length;_+=1){let y=_e(t,p,_),b=s(y);m.set(b,a[_]=ke(b,y))}let g=X(t[2]),f=[];for(let _=0;_<g.length;_+=1)f[_]=Ee(de(t,g,_));let w=t[5]&&Se(t),K=t[0]&&Be(t);return{c(){e=Y("div"),n=Y("div"),l=Y("button"),c=T(o),r=te(),d=W("svg"),u=W("defs"),h=W("marker"),v=W("path");for(let _=0;_<a.length;_+=1)a[_].c();P=U();for(let _=0;_<f.length;_+=1)f[_].c();A=te(),w&&w.c(),R=te(),S=Y("div"),E=Y("h3"),E.textContent="hmap",V=te(),K&&K.c(),i(l,"class","toggle-btn svelte-1onboun"),i(v,"d","M0,0 L6,3 L0,6 Z"),i(v,"fill","#000"),i(h,"id","arrow"),i(h,"markerWidth","6"),i(h,"markerHeight","6"),i(h,"refX","3"),i(h,"refY","3"),i(h,"orient","auto"),i(d,"viewBox",L=t[3].x+" "+t[3].y+" "+t[3].w+" "+t[3].h),i(d,"width","100%"),i(d,"height","100%"),i(d,"preserveAspectRatio","xMinYMin meet"),i(d,"class","svelte-1onboun"),i(n,"id","svg-container"),i(n,"class","svelte-1onboun"),i(S,"class","side svelte-1onboun"),ne(S,"width",t[4]+"px"),ne(S,"display",t[5]?"block":"none"),i(e,"class","root svelte-1onboun")},m(_,y){N(_,e,y),M(e,n),M(n,l),M(l,c),M(n,r),M(n,d),M(d,u),M(u,h),M(h,v);for(let b=0;b<a.length;b+=1)a[b]&&a[b].m(d,null);M(d,P);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(d,null);M(e,A),w&&w.m(e,null),M(e,R),M(e,S),M(S,E),M(S,V),K&&K.m(S,null),B||(z=[F(l,"click",t[11]),F(n,"wheel",t[6],{passive:!1}),F(n,"mousedown",t[7]),F(n,"mousemove",t[9]),F(n,"mouseup",t[8]),F(n,"mouseleave",t[8])],B=!0)},p(_,y){if(y[0]&32&&o!==(o=_[5]?"→":"← hmap")&&D(c,o),y[0]&10&&(p=X(_[1]),a=Ze(a,y,s,1,_,p,m,d,Ge,ke,P,_e)),y[0]&12){g=X(_[2]);let b;for(b=0;b<g.length;b+=1){const I=de(_,g,b);f[b]?f[b].p(I,y):(f[b]=Ee(I),f[b].c(),f[b].m(d,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=g.length}y[0]&8&&L!==(L=_[3].x+" "+_[3].y+" "+_[3].w+" "+_[3].h)&&i(d,"viewBox",L),_[5]?w?w.p(_,y):(w=Se(_),w.c(),w.m(e,R)):w&&(w.d(1),w=null),_[0]?K?K.p(_,y):(K=Be(_),K.c(),K.m(S,null)):K&&(K.d(1),K=null),y[0]&16&&ne(S,"width",_[4]+"px"),y[0]&32&&ne(S,"display",_[5]?"block":"none")},i:J,o:J,d(_){_&&O(e);for(let y=0;y<a.length;y+=1)a[y].d();$(f,_),w&&w.d(),K&&K.d(),B=!1,Q(z)}}}const C=24,k=22,Ke=80,le=40,lt=4,Pe=12,j=12,ot=1.5,H=27;function it(t,e,n){let l=[],o=[],c=null,r=[],d=[],u={x:0,y:0,w:1200,h:900},h=280,v=280,a=!0,m=!1,P=!1;async function L(){try{const[p,s]=await Promise.all([fetch("/vizual"),fetch("/hmap")]);l=await p.json(),n(0,c=await s.json()),o=[];let g=[];for(const w of l)w.type==="main"?(g.length&&o.push(g),g=[w]):g.push(w);g.length&&o.push(g),A();const f=document.getElementById("svg-container");if(f){const w=f.getBoundingClientRect(),K=w.height/w.width;n(3,u.w=1200,u),n(3,u.h=1200*K,u),n(3,u)}}catch(p){console.error("Ошибка загрузки данных:",p)}}function A(){n(1,r=[]),n(2,d=[]);let p=Ke;for(const s of o){let g=le;const f=Math.max(...s.map(_=>_.tophash.length))*H,w=s.map(_=>Math.max(..._.Keys.map(b=>b?b.toString().length:0),..._.Values.map(b=>b?b.toString().length:0),_.overflow?_.overflow.toString().length:0,0)*8+j*2),K=Math.max(...w,f,260);for(let _=0;_<s.length;_++){const y=s[_],b=K,I=C+y.Keys.length*k+y.Values.length*k+k+j*2;r.push({id:y.id,x:p,y:g,width:b,height:I,bucket:y,padding:j}),_<s.length-1&&d.push({x:p+b/2,y1:g+I,y2:g+I+le-lt}),g+=I+le}p+=K+Ke}}function R(p){p.preventDefault();const s=p.currentTarget.getBoundingClientRect();if(p.ctrlKey||p.metaKey){const g=p.clientX-s.left,f=p.clientY-s.top,w=u.x+g*u.w/s.width,K=u.y+f*u.h/s.height,_=Math.pow(1.001,p.deltaY*5),y=u.w*_,b=u.h*_;if(y<100||y>4e4)return;n(3,u.x=w-g/s.width*y,u),n(3,u.y=K-f/s.height*b,u),n(3,u.w=y,u),n(3,u.h=b,u)}else n(3,u.x+=p.deltaX*u.w/s.width,u),n(3,u.y+=p.deltaY*u.h/s.height,u);n(3,u)}function S(p){p.button===0&&(P=!0)}function E(){P=!1}function V(p){if(P){const s=document.getElementById("svg-container").getBoundingClientRect();n(3,u.x-=p.movementX*u.w/s.width,u),n(3,u.y-=p.movementY*u.h/s.height,u),n(3,u)}}function B(p){m=!0;const s=p.clientX,g=h,w=document.getElementById("svg-container").getBoundingClientRect(),K=u.w/w.width;w.height/w.width;const _=b=>{if(!m)return;const I=s-b.clientX,oe=Math.max(100,Math.min(800,g+I)),Ne=oe-h;n(4,h=oe),n(3,u.w-=Ne*K,u);const Ve=w.width-(oe-g);n(3,u.h=u.w*(w.height/Ve),u),n(3,u)},y=()=>{m=!1,window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",y)};window.addEventListener("mousemove",_),window.addEventListener("mouseup",y)}function z(){const p=document.getElementById("svg-container"),s=p.getBoundingClientRect(),g=u.w/s.width;a?(v=h,n(3,u.w+=h*g,u),n(4,h=0),n(5,a=!1)):(n(4,h=v),n(3,u.w-=h*g,u),n(5,a=!0)),setTimeout(()=>{const f=p.getBoundingClientRect();n(3,u.h=u.w*(f.height/f.width),u),n(3,u)},0)}return Te(L),[c,r,d,u,h,a,R,S,E,V,B,z]}class st extends et{constructor(e){super(),xe(this,e,it,nt,Xe,{},null,[-1,-1])}}new st({target:document.getElementById("app")});
